<view class="container">
  <!-- Welcome Card -->
  <view class="welcome-card">
    <view class="welcome-header">
      <view class="welcome-subtitle">欢迎回来</view>
      <view class="user-name">{{userInfo.name}}，你好</view>
    </view>
    <view class="greeting-content">
      <text>今天是 {{greeting.dateStr}}，{{greeting.weekDay}}，距离 {{greeting.nextYearShort}} 年 1 月 1 日还有 {{greeting.daysLeft}} 天，祝你度过开心的一天！</text>
    </view>
  </view>

  <!-- Quick Actions -->
  <view class="section-title">快速操作</view>
  <view class="action-grid">
    <view class="action-card" bindtap="navigateToSearch" data-tab="contracts">
      <view class="action-icon">📝</view>
      <view class="action-title">查合同</view>
      <view class="action-desc">合同业绩查询</view>
    </view>
    <view class="action-card" bindtap="navigateToSearch" data-tab="qualifications">
      <view class="action-icon">🏆</view>
      <view class="action-title">查资质</view>
      <view class="action-desc">企业资质查询</view>
    </view>
    <view class="action-card" bindtap="navigateToSearch" data-tab="ip">
      <view class="action-icon">💼</view>
      <view class="action-title">查知产</view>
      <view class="action-desc">专利软著商标</view>
    </view>
    <view class="action-card" bindtap="navigateToSearch" data-tab="personnel">
      <view class="action-icon">👥</view>
      <view class="action-title">查人员</view>
      <view class="action-desc">人员证书查询</view>
    </view>
    <view class="action-card" bindtap="navigateToSearch" data-tab="company">
      <view class="action-icon">🏢</view>
      <view class="action-title">查公司</view>
      <view class="action-desc">公司信息查询</view>
    </view>
  </view>

  <!-- Recent Activity (History) -->
  <view class="section-title">历史查询</view>
  <view class="recent-activity">
    <block wx:if="{{searchHistory.length > 0}}">
      <view class="history-item" wx:for="{{searchHistory}}" wx:key="id" bindtap="onHistoryTap" data-item="{{item}}">
        <view class="history-icon">{{item.icon}}</view>
        <view class="history-content">
          <view class="history-title">
            <text class="history-type">{{item.displayType}}</text>
            <text class="history-query">{{item.query || '无关键词'}}</text>
          </view>
          <view class="history-tags" wx:if="{{item.tags && item.tags.length > 0}}">
            <text class="tag" wx:for="{{item.tags}}" wx:for-item="tag" wx:key="*this">{{tag}}</text>
          </view>
        </view>
        <!-- Time and Arrow on the right -->
        <view class="history-time">{{item.time}}</view>
        <view class="history-arrow">></view>
      </view>
    </block>
    <view class="empty-state" wx:else>
      <view class="empty-icon">🕒</view>
      <view class="empty-text">暂无搜索历史</view>
    </view>
  </view>
</view>
<!-- Force Update: v3 -->
